<simulation xml:base="/home/nathan/Desktop/arfc/transition-scenarios/input/npre480/input_files/" xmlns:xi="http://www.w3.org/2001/XInclude">
  <control>
    <duration>780</duration> <!--In months, goal is 2030-->
    <startmonth>1</startmonth>
    <startyear>2020</startyear> <!--Year-->
    <decay>lazy</decay>
  </control>

  <archetypes>
    <spec> <lib>cycamore</lib><name>Enrichment</name> </spec>
    <spec> <lib>cycamore</lib><name>Reactor</name> </spec>
    <spec> <lib>cycamore</lib><name>Storage</name></spec>
    <spec> <lib>cycamore</lib><name>Source</name> </spec>
    <spec> <lib>cycamore</lib><name>Sink</name> </spec>
    <spec> <lib>agents</lib><name>NullRegion</name> </spec>
    <spec> <lib>agents</lib><name>NullInst</name> </spec>
  </archetypes>

  <commodity>
    <name>nat_u</name>
    <solution_priority>1.0</solution_priority>
  </commodity>
  <commodity>
    <name>u3o8</name>
    <solution_priority>1.0</solution_priority>
  </commodity>
  <commodity>
    <name>uf6</name>
    <solution_priority>1.0</solution_priority>
  </commodity>
  <commodity>
    <name>enr_u</name>
    <solution_priority>1.0</solution_priority>
  </commodity>
  <commodity>
    <name>fresh_triso_xe</name>
    <solution_priority>1.0</solution_priority>
  </commodity>
  <commodity>
    <name>tails</name>
    <solution_priority>1.0</solution_priority>
  </commodity>
  <commodity>
    <name>spent_triso_xe</name>
    <solution_priority>1.0</solution_priority>
  </commodity>

 <facility>
    <name>Mine</name>
    <config>
      <Source>
        <outcommod>nat_u</outcommod>
        <outrecipe>nat_u</outrecipe>
        <throughput>1e6</throughput>
        <!-- Cameco Smith Ranch-Highland Mine -->
        <latitude>43.053736</latitude>
        <longitude>-105.685089</longitude>
      </Source>
    </config>
  </facility>

  <facility>
    <name>Mill</name>
    <config>
      <Storage>
        <in_commods>
          <val>nat_u</val>
        </in_commods>
        <in_recipe>nat_u</in_recipe>
        <out_commods>
          <val>u3o8</val>
        </out_commods>
        <residence_time>1</residence_time>
        <!-- White Mesa Uranium Mill (Utah) -->
        <latitude>37.468419</latitude>
        <longitude>-109.467586</longitude>
      </Storage>
    </config>
  </facility>

  <facility>
    <name>Conversion</name>
    <config>
      <Storage>
        <in_commods>
          <val>u3o8</val>
        </in_commods>
        <in_recipe>u3o8</in_recipe>
        <out_commods>
          <val>uf6</val>
        </out_commods>
        <residence_time>1</residence_time>
        <!-- Honeywell Uranium Conversion Facility (IL) -->
        <latitude>37.171768</latitude>
        <longitude>-88.757039</longitude>
      </Storage>
    </config>
  </facility>

  <facility>
    <name>Enrichment</name>
    <config>
      <Enrichment>
        <feed_commod>uf6</feed_commod>
        <feed_recipe>uf6</feed_recipe>
        <product_commod>fresh_triso_xe</product_commod>
        <tails_commod>tails</tails_commod>
        <tails_assay>0.002</tails_assay>
        <max_feed_inventory>20e6</max_feed_inventory>
        <max_enrich>0.1975</max_enrich>
        <!-- Portsmouth Gaseous Diffusion Plant (OH) -->
        <latitude>39.008333</latitude>
        <longitude>-83</longitude>
      </Enrichment>
    </config>
  </facility>

  <facility>
    <name>FuelFab</name>
    <config>
      <Storage>
        <in_commods>
          <val>fresh_triso_xe</val>
        </in_commods>
        <in_recipe>fresh_triso_xe</in_recipe>
        <out_commods>
          <val>fresh_triso_xe</val>
        </out_commods>
        <residence_time>1</residence_time>
        <!-- Westing House Fuel Fab (SC) -->
        <latitude>33.8749</latitude>
        <longitude>-80.8976</longitude>
      </Storage>
    </config>
  </facility>

  <facility>
    <name>XE100</name>
    <lifetime>26</lifetime> <!--in months-->
    <config>
      <Reactor>
          <fuel_incommods> <val>fresh_triso_xe</val> </fuel_incommods>
          <fuel_inrecipes> <val>fresh_triso_xe</val> </fuel_inrecipes>
          <fuel_outcommods> <val>spent_triso_xe</val> </fuel_outcommods>
          <fuel_outrecipes> <val>spent_triso_xe</val> </fuel_outrecipes>
          <cycle_time>24</cycle_time> <!--in months-->
          <refuel_time>1</refuel_time>
          <assem_size>180</assem_size>
          <n_assem_core>3</n_assem_core>
          <n_assem_batch>1</n_assem_batch>
          <power_cap>80</power_cap>  <!--in MWe-->
      </Reactor>
    </config>
  </facility>

  <facility>
    <name>NuclearRepository</name>
    <config>
      <Sink>
        <in_commods>
          <val>spent_triso_xe</val>
          <val>tails</val>
        </in_commods>
      </Sink>
    </config>
  </facility>

  <region>
    <name>USA</name>
    <config> <NullRegion/> </config>
    <institution>
      <name>United States Nuclear</name>
      <initialfacilitylist>
        <entry>
          <prototype>Mine</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Mill</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Conversion</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Enrichment</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>FuelFab</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>NuclearRepository</prototype>
          <number>1</number>
        </entry>
      </initialfacilitylist>
      <config> <NullInst/> </config>
    </institution>

    <institution>
      <name>Reactors</name>
      <initialfacilitylist>
        <entry>
          <prototype>XE100</prototype>
          <number>1</number>
        </entry>
        </initialfacilitylist>
        <config> <NullInst/> </config>
    </institution>
  </region>

  <recipe>
    <name>nat_u</name>
    <basis>mass</basis>
    <nuclide>
      <id>92235</id>
      <comp>0.00711</comp>
    </nuclide>
    <nuclide>
      <id>92238</id>
      <comp>0.99289</comp>
    </nuclide>
  </recipe>

<recipe>
    <name>u3o8</name>
    <basis>atom</basis>
    <nuclide>
      <id>922350000</id>
      <comp>0.00711</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>0.99289</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>uf6</name>
    <basis>atom</basis>
    <nuclide>
      <id>922350000</id>
      <comp>0.00711</comp>
    </nuclide>
    <nuclide>
      <id>922380000</id>
      <comp>0.99289</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>enr_u</name>
    <basis>mass</basis>
    <nuclide>
        <id>92235</id>
        <comp>0.04</comp>
    </nuclide>
    <nuclide>
        <id>92238</id>
        <comp>0.96</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>fresh_triso_xe</name>
    <basis>mass</basis>
    <nuclide>
        <id>92235</id>
        <comp>0.155</comp>
    </nuclide>
    <nuclide>
        <id>92238</id>
        <comp>0.845</comp>
    </nuclide>
  </recipe>

   <recipe>
    <name>spent_triso_xe</name>
    <basis>mass</basis>
    <nuclide>
      <id>92235</id>
      <comp>0.0011</comp>
    </nuclide>
    <nuclide>
      <id>92238</id>
      <comp>0.94</comp>
    </nuclide>
    <nuclide>
      <id>94239</id>
      <comp>0.009</comp>
    </nuclide>
    <nuclide>
      <id>55137</id>
      <comp>0.04</comp>
    </nuclide>
  </recipe>

</simulation>
